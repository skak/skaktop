function refreshView(){buildTable(getSwitchList())}$(window).load(refreshView);function refreshSelected(){chrome.extension.sendRequest({action:"hotlist"},function(a){$("td").removeClass("popup_selected");var c=JSON.parse(a.list);for(var b=0;b<c.length;b++){$("#item_"+c[b]).addClass("popup_selected")}})}function setCurrent(a){chrome.extension.sendRequest({action:"set",index:a},function(b){});refreshSelected()}function _newRow(e,c){var f=document.createElement("td");var b=document.createElement("a");f.setAttribute("class","popup_item");f.setAttribute("id","item_"+c);b.appendChild(document.createTextNode(e));f.appendChild(b);var d=document.createElement("tr");d.appendChild(f);return d}function buildTable(c){var b=$("#options_table");b.empty();for(var a=0;a<c.length;a++){b.append(_newRow(c[a].getPopupDisplayString(),a));$("#item_"+a).click((function(d){return function(){setCurrent(d)}})(a))}addShowOptionsRow();refreshSelected()}function addShowOptionsRow(){var d=document.createElement("td");d.setAttribute("class","popup_item");var b=document.createElement("a");b.appendChild(document.createTextNode("Settings"));b.setAttribute("href","options.html");b.setAttribute("target","_new");d.appendChild(b);var c=document.createElement("tr");c.appendChild(d);document.getElementById("options_table").appendChild(c)};